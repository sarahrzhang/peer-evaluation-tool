<p id="notice"><%= notice %></p>

<% set_current_group @group%>
<p>
  <strong>Group name:</strong>
  <%= @group.group_name %>
</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th scope="col">Course Name</th>
      <th scope="col">Course ID</th>
      <th scope="col">Instructor</th>
      <th scope="col">Students</th>
      <th colspan="3"></th>
    </tr>
  </thead>
<tbody>
    
    <% if @group.students.include? current_student %>
      <tr>
        <td><%= Course.find(@group.course_id).course_name %></td>
        <td><%= @group.course_id %></td>
        <td><%= Instructor.find(Course.find(@group.course_id).instructor_id).last_name %></td>
        <td>
        <% @group.students.each do |stud| %>
        <%= stud.email %><br>
        <% end %>
        </td>
      </tr>
    <% end %>
    <% if current_instructor %>
      <tr>
        <td><%= Course.find(@group.course_id).course_name %></td>
        <td><%= @group.course_id %></td>
        <td><%= Instructor.find(Course.find(@group.course_id).instructor_id).last_name %></td>
        <td>
        <% @group.students.each do |stud| %>
        <%= stud.email %><br>
        <% end %>
        </td>
      </tr>
    <% end %>
    
  </tbody>
  </table>

<% if current_instructor %>
<%= link_to 'Edit', edit_group_path(@group) %> |
<% end %>
<% if current_student %>
<%= link_to 'New Evaluation', new_evaluation_path, :class => "btn btn-primary btn-sm" %>
<% end %>
<%= link_to 'Back', groups_path %>
